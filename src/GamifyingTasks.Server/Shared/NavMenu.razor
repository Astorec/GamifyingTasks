﻿@using GamifyingTasks.Firebase.Authentication
@using GamifyingTasks.Firebase.DB
@inject NavigationManager navManger
<MudNavMenu Dense="true">
    <MudNavLink Href="home" Match="NavLinkMatch.All" Icon="@Icons.Material.Filled.House" >Home
    </MudNavLink>
    <MudNavLink Href="profile" Match="NavLinkMatch.Prefix" Icon="@Icons.Material.Filled.Person"> 
        profile
    </MudNavLink>
    <MudNavLink Href="settings" Match="NavLinkMatch.Prefix" Icon="@Icons.Material.Filled.Settings">
        Settings</MudNavLink>
        <MudNavLink @onclick="LogOut" Match="NavLinkMatch.Prefix">Log Out</MudNavLink>
</MudNavMenu>

@code{
    private void LogOut(){
        FirebaseAuth.GetClient().SignOut();
        DBCore.IsLoggedIn = false;
        DBCore.Dispose();
        navManger.NavigateTo("/");
    }
}